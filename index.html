<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CYBER_PROFILE.exe | System Access</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>

    <style>
        :root {
            --neon-blue: #00f3ff;
            --neon-pink: #bc13fe;
            --neon-green: #00ff9d;
            --bg-dark: #050505;
        }

        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
        }
        
        body {
            font-family: 'Courier New', monospace;
            background: var(--bg-dark);
            color: var(--neon-blue);
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
        }

        /* --- BACKGROUND LAYERS --- */
        #matrixRain, .cyber-grid {
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%; 
            pointer-events: none;
        }
        .matrix-rain { 
            z-index: 1; 
            opacity: 0.25; 
        }
        .cyber-grid {
            background: 
                linear-gradient(90deg, rgba(188, 19, 254, 0.05) 1px, transparent 1px),
                linear-gradient(180deg, rgba(0, 243, 255, 0.05) 1px, transparent 1px);
            background-size: 50px 50px;
            z-index: 2;
        }

        /* --- START SCREEN --- */
        #start-screen {
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%;
            background: #000; 
            z-index: 9999;
            display: flex; 
            flex-direction: column; 
            justify-content: center; 
            align-items: center;
            cursor: pointer; 
            transition: opacity 0.8s ease;
        }
        .start-btn {
            border: 2px solid var(--neon-pink); 
            padding: 20px 40px;
            font-size: 1.5rem; 
            color: var(--neon-blue); 
            letter-spacing: 4px;
            text-shadow: 0 0 10px var(--neon-blue);
            box-shadow: 0 0 20px rgba(188, 19, 254, 0.4);
            animation: pulseText 2s infinite;
        }
        @keyframes pulseText {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 1; }
        }
        .start-sub { 
            margin-top: 15px; 
            color: var(--neon-pink); 
            font-size: 0.8rem; 
            opacity: 0.8; 
        }

        /* --- MAIN LAYOUT --- */
        .container {
            width: 100%; 
            height: 100%;
            display: flex; 
            flex-direction: column; 
            align-items: center;
            z-index: 10; 
            position: relative;
        }
        
        /* PROFILE SECTION */
        .profile-section {
            text-align: center; 
            padding: 0 0px; 
            width: 100%; 
            max-width: 800px;
            opacity: 0; 
            transform: translateY(-50px);
            transition: all 5s cubic-bezier(0.22, 1, 0.36, 1);
            position: relative; 
            z-index: 20; 
            margin-top: 5vh; 
        }
        .profile-section.visible { 
            opacity: 1; 
            transform: translateY(0); 
        }

        /* PROFILE VISUALIZER/IMAGE WRAPPER */
        .profile-wrapper {
            position: relative;
            width: 200px;  
            height: 200px; 
            margin: 0 auto 5px auto;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .profile-pic {
            width: 100px;  
            height: 100px; 
            border-radius: 50%; 
            object-fit: cover;
            border: 2px solid var(--neon-blue);
            box-shadow: 0 0 15px var(--neon-blue), inset 0 0 10px var(--neon-pink);
            z-index: 22; 
            position: relative;
        }

        #profileVisualizer {
            position: absolute;
            top: 0; 
            left: 0;
            width: 100%; 
            height: 100%;
            z-index: 21; 
            pointer-events: none;
        }

        /* FONT SIZES */
        .name-wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 5px;
        }
        
        .verified-img { 
            width: 25px;
            height: 25px;
            margin-left: 10px;
            filter: drop-shadow(0 0 3px var(--neon-blue));
            vertical-align: middle; 
            margin-top: -5px;
        }

        .name { 
            font-size: 1.7rem;
            margin-bottom: 0px; 
            color: #fff; 
            text-shadow: 2px 2px 0 var(--neon-pink), -2px -2px 0 var(--neon-blue); 
            font-weight: 700; 
        }

        .title { 
            font-size: 0.9rem; 
            margin-bottom: 5px;
            color: var(--neon-blue); 
            text-shadow: 0 0 8px var(--neon-blue); 
        }
        .description { 
            line-height: 1.5; 
            font-size: 0.8rem; 
            color: #e0e0e0; 
            text-shadow: 0 0 2px var(--neon-pink); 
            margin-top: 0px;
        }

        /* --- MAIN BOTTOM VISUALIZER --- */
        #visualizer-container {
            position: fixed; 
            top: 60%; 
            left: 0; 
            width: 100%; 
            height: 400px;
            transform: translateY(-50%); 
            z-index: 5; 
            pointer-events: none;
            display: flex; 
            justify-content: center;
        }
        #visualizer { 
            width: 100%; 
            height: 100%; 
        }

        /* --- UI ELEMENTS (Floating Buttons) --- */
        
        /* 1. More About Me Button (Top Left) */
        .more-btn {
            position: fixed; 
            top: 30px; 
            left: 30px; 
            z-index: 200;
            background: rgba(0,0,0,0.6); 
            border: 1px solid var(--neon-blue); 
            border-radius: 50%;
            width: 50px; 
            height: 50px; 
            color: var(--neon-blue); 
            font-size: 1.2rem;
            text-decoration: none;
            cursor: pointer; 
            transition: all 2s ease; 
            display: flex; 
            justify-content: center; 
            align-items: center;
            opacity: 0; 
            transform: translateY(-20px);
        }
        .more-btn.visible { 
            opacity: 1; 
            transform: translateY(0); 
        }
        .more-btn:hover { 
            color: var(--neon-pink); 
            border-color: var(--neon-pink); 
            box-shadow: 0 0 20px var(--neon-pink); 
            transform: scale(1.1);
        }

        /* 2. Playlist Container (Bottom Left) */
        .playlist-container {
            position: fixed; 
            left: 30px; 
            bottom: 120px; 
            width: 250px; 
            max-height: 135px; 
            background: rgba(0, 0, 0, 0.7);
            border: 1px solid var(--neon-blue);
            border-left: 4px solid var(--neon-pink);
            overflow-y: auto;
            z-index: 200;
            padding: 10px;
            backdrop-filter: blur(5px);
            font-size: 0.8rem;
            display: none; 
            opacity: 0; 
            transition: all 3.5s ease 0.2s;
        }
        .playlist-container.visible { 
            display: block; 
            opacity: 1; 
            transform: translateY(0); 
        }
        
        .playlist-header {
            color: var(--neon-pink); 
            font-weight: bold; 
            border-bottom: 1px solid var(--neon-blue);
            padding-bottom: 5px; 
            margin-bottom: 5px; 
            letter-spacing: 1px;
        }
        .playlist-item {
            padding: 8px; 
            cursor: pointer; 
            color: #aaa; 
            transition: 0.3s;
            border-bottom: 1px solid rgba(0, 243, 255, 0.1);
            white-space: nowrap; 
            overflow: hidden; 
            text-overflow: ellipsis;
        }
        .playlist-item:hover { 
            color: #fff; 
            background: rgba(188, 19, 254, 0.2); 
        }
        .playlist-item.active {
            color: var(--neon-blue); 
            text-shadow: 0 0 5px var(--neon-blue);
            background: rgba(0, 243, 255, 0.1); 
            border-left: 2px solid var(--neon-blue);
        }

        /* --- NEW: Playlist Scrollbar Styling (Themed Look) --- */
        .playlist-container::-webkit-scrollbar {
            width: 8px; /* Width of the scrollbar */
        }
        .playlist-container::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.4); /* Dark track */
        }
        .playlist-container::-webkit-scrollbar-thumb {
            background: var(--neon-blue); /* Neon Blue thumb */
            border-radius: 4px;
            border: 1px solid var(--neon-pink); /* Pink border for contrast */
        }
        .playlist-container::-webkit-scrollbar-thumb:hover {
            background: var(--neon-pink); /* Pink on hover */
        }
        
        /* 3. Message Container (Centered - Hidden by default) */
        .message-container {
            position: fixed; 
            top: 50%; 
            left: 50%; 
            transform: translate(-50%, -50%) scale(0.9);
            width: 400px; 
            background: rgba(0, 0, 0, 0.95);
            border: 2px solid var(--neon-blue);
            border-top: 4px solid var(--neon-pink);
            border-bottom: 4px solid var(--neon-green);
            z-index: 1000;
            padding: 25px;
            backdrop-filter: blur(10px);
            font-size: 0.9rem;
            box-shadow: 0 0 40px rgba(0, 243, 255, 0.3),
                        inset 0 0 20px rgba(188, 19, 254, 0.1);
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            display: none;
        }
        .message-container.visible { 
            display: block; 
            opacity: 1; 
            transform: translate(-50%, -50%) scale(1);
        }

        .message-header {
            color: var(--neon-blue);
            font-weight: bold; 
            border-bottom: 1px solid var(--neon-pink);
            padding-bottom: 10px; 
            margin-bottom: 20px; 
            letter-spacing: 2px;
            text-align: center;
            font-size: 1.1rem;
            text-shadow: 0 0 10px var(--neon-blue);
        }

        #messageForm input, #messageForm textarea {
            width: 100%;
            padding: 12px;
            margin-bottom: 15px;
            background: rgba(0, 0, 0, 0.7);
            border: 1px solid var(--neon-blue);
            color: var(--neon-green);
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            resize: none;
            outline: none;
            box-shadow: 0 0 10px rgba(0, 243, 255, 0.2);
            transition: all 0.3s ease;
        }
        #messageForm input:focus, #messageForm textarea:focus {
            border-color: var(--neon-pink);
            box-shadow: 0 0 15px rgba(188, 19, 254, 0.4);
        }
        #messageForm input::placeholder, #messageForm textarea::placeholder {
            color: #666;
            font-style: italic;
        }

        #transmitBtn {
            width: 100%;
            padding: 12px;
            background: linear-gradient(45deg, var(--neon-pink), var(--neon-blue));
            color: #000;
            border: none;
            font-family: 'Courier New', monospace;
            font-weight: bold;
            font-size: 1rem;
            cursor: pointer;
            text-shadow: 0 0 5px #fff;
            transition: all 0.3s ease;
            letter-spacing: 1px;
        }
        #transmitBtn:hover {
            background: linear-gradient(45deg, var(--neon-blue), var(--neon-pink));
            box-shadow: 0 0 25px var(--neon-blue);
            transform: translateY(-2px);
        }
        #transmitBtn:active {
            transform: translateY(0);
        }

        .status-msg {
            margin-top: 15px;
            text-align: center;
            font-size: 0.8rem;
            min-height: 20px;
            padding: 5px;
            border-radius: 3px;
        }

        /* --- NEW: More About Me (Modal/Form) --- */
        .about-container {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.9);
            width: 80vw;
            max-width: 600px;
            max-height: 80vh; /* Set max height for scrollability */
            background: rgba(0, 0, 0, 0.98);
            border: 2px solid var(--neon-green);
            border-top: 4px solid var(--neon-blue);
            border-bottom: 4px solid var(--neon-pink);
            z-index: 1000;
            padding: 25px;
            backdrop-filter: blur(8px);
            font-size: 0.9rem;
            box-shadow: 0 0 50px rgba(0, 255, 157, 0.4), inset 0 0 20px rgba(0, 243, 255, 0.1);
            opacity: 0;
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            display: none;
            overflow: hidden; 
            flex-direction: column;
        }

        .about-container.visible {
            display: flex;
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
        }

        .about-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: var(--neon-green);
            font-weight: bold;
            border-bottom: 1px solid var(--neon-blue);
            padding-bottom: 10px;
            margin-bottom: 20px;
            letter-spacing: 2px;
            font-size: 1.2rem;
            text-shadow: 0 0 10px var(--neon-green);
        }

        .close-btn {
            background: transparent;
            border: 1px solid var(--neon-pink);
            color: var(--neon-pink);
            font-size: 1rem;
            padding: 5px 10px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .close-btn:hover {
            background: var(--neon-pink);
            color: #000;
            box-shadow: 0 0 10px var(--neon-pink);
        }

        .about-content {
            flex-grow: 1;
            overflow-y: auto; /* Scrollable content area */
            padding-right: 15px; 
            padding-left: 5px;
        }

        /* --- NEW: About Content Scrollbar Styling (Themed Look) --- */
        .about-content::-webkit-scrollbar {
            width: 8px; /* Width of the scrollbar */
        }
        .about-content::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.4); /* Dark track */
        }
        .about-content::-webkit-scrollbar-thumb {
            background: var(--neon-pink); /* Neon Pink thumb */
            border-radius: 4px;
            border: 1px solid var(--neon-blue); /* Blue border for contrast */
        }
        .about-content::-webkit-scrollbar-thumb:hover {
            background: var(--neon-blue); /* Blue on hover */
        }
        
        .about-section-header {
            color: var(--neon-blue);
            font-size: 1.1rem;
            margin-top: 15px;
            margin-bottom: 8px;
            text-shadow: 0 0 8px var(--neon-blue);
            border-bottom: 1px dashed var(--neon-pink);
            padding-bottom: 3px;
        }

        .about-list {
            list-style: none;
            padding-left: 15px;
            font-size: 0.9rem;
        }
        .about-list li {
            margin-bottom: 5px;
            color: #ccc;
        }
        .about-list li::before {
            content: "> ";
            color: var(--neon-green);
            margin-right: 5px;
        }
        
        /* --- MUSIC PLAYER BAR --- */
        .music-section {
            position: fixed; 
            bottom: 50px; 
            left: 0; 
            right: 0;
            display: flex; 
            flex-direction: column; 
            align-items: center;
            z-index: 100; 
            background: linear-gradient(to top, rgba(0,0,0,1), transparent);
            padding-bottom: 10px; 
            pointer-events: none;
            opacity: 0; 
            transform: translateY(50px); 
            transition: all 3.5s ease;
        }
        .music-section.visible { 
            opacity: 1; 
            transform: translateY(0); 
            pointer-events: auto; 
        }
        
        .now-playing { 
            margin-bottom: 5px; 
            text-align: center; 
        }
        .song-title { 
            font-size: 0.9rem; 
            font-weight: 600; 
            color: var(--neon-blue); 
            text-shadow: 0 0 5px var(--neon-blue); 
        }
        
        .progress-area { 
            width: 300px; 
            display: flex; 
            align-items: center; 
            gap: 10px; 
            margin-bottom: 10px; 
            font-size: 0.75rem; 
            color: var(--neon-pink); 
        }
        .progress-bar { 
            flex-grow: 1; 
            height: 4px; 
            -webkit-appearance: none; 
            background: rgba(255,255,255,0.1); 
            cursor: pointer; 
        }
        .progress-bar::-webkit-slider-thumb { 
            -webkit-appearance: none; 
            width: 12px; 
            height: 12px; 
            background: var(--neon-blue); 
            border-radius: 50%; 
            margin-top: -4px; 
        }
        .progress-bar::-webkit-slider-runnable-track { 
            height: 4px; 
            background: linear-gradient(90deg, var(--neon-pink), var(--neon-blue)); 
        }

        /* --- CONTROLS LAYOUT FIX (GRID SYSTEM) --- */
        .controls-wrapper {
            display: grid;
            grid-template-columns: 1fr auto 1fr;
            width: 300px;
            align-items: center;
        }

        .left-controls {
            justify-self: start;
        }

        .center-controls {
            display: flex;
            gap: 20px;
            justify-content: center;
        }
        
        .right-controls {
            justify-self: end;
        }

        .control-btn { 
            background: transparent; 
            border: none; 
            color: #fff; 
            font-size: 1.2rem; 
            cursor: pointer; 
            transition: 0.3s; 
            text-shadow: 0 0 5px #fff; 
        }
        .control-btn:hover { 
            color: var(--neon-pink); 
            transform: scale(1.1); 
            text-shadow: 0 0 15px var(--neon-pink); 
        }
        .control-btn.active { 
            color: var(--neon-blue); 
            text-shadow: 0 0 15px var(--neon-blue); 
        } 
        
        #playPauseBtn { 
            font-size: 1.8rem; 
            color: var(--neon-blue); 
        }
        
        footer { 
            position: fixed; 
            bottom: 15px; 
            left: 0; 
            width: 100%; 
            text-align: center; 
            z-index: 10; 
            font-size: 0.75rem; 
            color: var(--neon-pink); 
            opacity: 0.8; 
        }

        /* Message Toggle Button (Bottom Right) */
        .message-toggle-btn {
            position: fixed;
            bottom: 120px;
            right: 30px;
            z-index: 200;
            background: rgba(0,0,0,0.6);
            border: 1px solid var(--neon-green);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            color: var(--neon-green);
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transform: translateY(20px);
        }
        .message-toggle-btn.visible {
            opacity: 1;
            transform: translateY(0);
        }
        .message-toggle-btn:hover {
            color: var(--neon-blue);
            border-color: var(--neon-blue);
            box-shadow: 0 0 20px var(--neon-green);
            transform: scale(1.1);
        }

        @media (max-width: 600px) {
            .profile-section { 
                margin-top: 5vh; 
            }
            .playlist-container { 
                bottom: 160px; 
                left: 10px; 
                width: 200px; 
            }
            .message-container {
                width: 90vw;
            }
            .about-container {
                width: 90vw;
            }
            .message-toggle-btn {
                bottom: 160px;
                right: 10px;
            }
            .name { 
                font-size: 1.5rem; 
            }
            .profile-wrapper { 
                width: 180px; 
                height: 180px; 
            }
            .profile-pic { 
                width: 90px; 
                height: 90px; 
            }
            .progress-area, .controls-wrapper { 
                width: 85vw; 
            }
        }
    </style>
</head>
<body>

    <div id="start-screen">
        <div class="start-btn">INITIALIZE SYSTEM</div>
        <div class="start-sub">[ CLICK ANYWHERE TO ACCESS ]</div>
    </div>

    <canvas class="matrix-rain" id="matrixRain"></canvas>
    <div class="cyber-grid"></div>
    
    <div id="visualizer-container">
        <canvas id="visualizer"></canvas>
    </div>

    <a href="#" class="more-btn" id="moreBtn" title="More About Me">
        <i class="fas fa-user-astronaut"></i>
    </a>

    <div class="container">
        <div class="profile-section" id="profileSection">
            
            <div class="profile-wrapper">
                <canvas id="profileVisualizer"></canvas>
                <img src="https://scontent.fmnl25-4.fna.fbcdn.net/v/t39.30808-1/557621090_1879534862913058_3142175480419287811_n.jpg?stp=dst-jpg_s160x160_tt6&_nc_cat=107&ccb=1-7&_nc_sid=1d2534&_nc_eui2=AeE4I9J7YVH8UR6ynOZUdru-o3T0CuqLmL6jdPQK6ouYvhtSQ5Jn9rwIH1lhXpCdX8M8JtRJ15QB-6m_J9COJrGu&_nc_ohc=JpDWV1GLVVMQ7kNvwH_y1LB&_nc_oc=AdnMHr5owaVLSyIAoBU6fSDwycpOEkT7JoK_zidvnOiyujaFBIT1cTYSP4RgrlfXTYE&_nc_zt=24&_nc_ht=scontent.fmnl25-4.fna&_nc_gid=VbjrGiINlEWeCcaOJuEXmw&oh=00_AfhuDniPGdjsvSpCc09DU0av_Eq20ozzh3zcJhRaW8qAdw&oe=692CB7A1" alt="Profile" class="profile-pic">
            </div>
            
            <div class="name-wrapper">
                <h1 class="name">ANDREW SANTIAGO</h1>
                <img src="verified_badge.png" alt="Verified Badge" class="verified-img">
            </div>
            
            <p class="title">> SOFTWARE DEVELOPER, MUSICIAN, COMPUTER ENGINEER</p>
            
            <p class="description">
                > SYSTEM STATUS: ONLINE<br>
                > MISSION: BUILDING THE FUTURE<br>
                > BASED AT ANTIPOLO, RIZAL
            </p>
        </div>
    </div>
    
    <div class="playlist-container" id="playlistContainer">
        <div class="playlist-header">> PLAY_QUEUE</div>
        <div id="playlistItems"></div>
    </div>

    <div class="about-container" id="aboutContainer">
        <div class="about-header">
            <i class="fas fa-id-card"></i> ACCESSING PROFILE DATA
            <button class="close-btn" id="aboutCloseBtn">MINIMIZE</button>
        </div>
        
        <div class="about-content">
            <p class="about-section-header">> SYSTEM_OVERVIEW</p>
            <p style="color: #e0e0e0; margin-bottom: 15px;">
                Cyber-alias: Sentinel. Primary function: Full-stack system development and audio synthesis. 
                Optimized for high-throughput coding environments and complex problem-solving.
            </p>

            <p class="about-section-header">> SKILL_MATRIX</p>
            <ul class="about-list">
                <li>Primary Languages: JavaScript (Node.js, React), Python, C++</li>
                <li>Database Protocols: MongoDB, Firebase Realtime DB, PostgreSQL</li>
                <li>Frameworks/Tools: Express, Git, Docker, WebGL/Canvas API</li>
                <li>Specialization: Real-time Audio Visualization, Low-latency Systems</li>
            </ul>

            <p class="about-section-header">> PROJECT_LOGS</p>
            <ul class="about-list">
                <li>Project A: Decentralized Voting System (Status: DEPLOYED)</li>
                <li>Project B: Neural Network Music Generator (Status: IN_DEVELOPMENT)</li>
                <li>Project C: Cyber-Profile 2.0 (This site)</li>
            </ul>

            <p class="about-section-header">> AUDIO_SYNTHESIS_CAPABILITIES</p>
            <p style="color: #e0e0e0; margin-bottom: 15px;">
                As a Musician, I engage in sound design and production, focusing on Ambient, Lo-Fi, and Electronic genres.
                The current visualizer is a custom Web Audio API implementation.
            </p>

            <p class="about-section-header">> CONTACT_PROTOCOL</p>
            <ul class="about-list">
                <li>ENCRYPTED_EMAIL: sentinel.codes@secure.net</li>
                <li>GITHUB_ACCESS: github.com/AndrewSantiago</li>
            </ul>
        </div>
    </div>

    <button class="message-toggle-btn" id="messageToggleBtn" title="Transmit Message">
        <i class="fas fa-satellite-dish"></i>
    </button>

    <div class="message-container" id="messageContainer">
        <div class="message-header">
            <i class="fas fa-satellite-dish"></i> ANONYMOUS MESSAGE
        </div>
        <form id="messageForm">
            <input type="text" id="senderName" placeholder="[ CODENAME ]" required>
            <textarea id="messageBody" placeholder="[ MESSAGE ]" rows="4" required></textarea>
            <button type="submit" id="transmitBtn">
                <i class="fas fa-paper-plane"></i> TRANSMIT_DATA
            </button>
        </form>
        <div id="messageStatus" class="status-msg"></div>
    </div>

    <div class="music-section" id="musicSection">
        <div class="now-playing">
            <div class="song-title" id="nowPlayingTitle">SYSTEM_AUDIO_INITIALIZING...</div>
        </div>
        
        <div class="progress-area">
            <span id="currTime">0:00</span>
            <input type="range" min="0" max="100" value="0" class="progress-bar" id="seekSlider">
            <span id="totalDur">0:00</span>
        </div>

        <div class="controls-wrapper">
            <div class="left-controls">
                <button class="control-btn" id="loopBtn" title="Toggle Loop"><i class="fas fa-repeat"></i></button>
            </div>

            <div class="center-controls">
                <button class="control-btn" id="prevBtn"><i class="fas fa-step-backward"></i></button>
                <button class="control-btn" id="playPauseBtn"><i class="fas fa-play"></i></button>
                <button class="control-btn" id="nextBtn"><i class="fas fa-step-forward"></i></button>
            </div>

            <div class="right-controls">
                <button class="control-btn" id="playlistToggleBtn" title="Show Playlist">
                    <i class="fas fa-list"></i>
                </button>
            </div>
        </div>
    </div>

    <footer>
        &copy; 2024 CYBER_SYSTEMS | ACCESS_GRANTED
    </footer>

    <script>
        // --- DATA & STATE ---
        let playlist = [
            {
                name: "NIGHTCORE - ROCKEFELLER STREET",
                url: 'https://raw.githubusercontent.com/saltysweeteasy/my-music/main/Nightcore%20-%20Rockefeller%20Street%20%5BhenzKOC78nw%5D.mp3',
                type: 'url'
            },

            {
                name: "GRAND ESCAPE PIANO(Radwimps) - MrPianoMinion",
                url: 'https://raw.githubusercontent.com/saltysweeteasy/my-music/main/%E3%80%8AGrand%20Escape%E3%80%8BHardest%20Grand%20Piano%20Arrangement___%20_%20Weathering%20with%20You%20OST%20(%E5%A4%A9%E6%B0%97%E3%81%AE%E5%AD%90)%20%5Bk-cW_nSJcBk%5D.mp3',
                type: 'url'
            },

            {
                name: "TRACING THAT DREAM(Yoasobi) - Sungha Jung",
                url: 'https://raw.githubusercontent.com/saltysweeteasy/my-music/main/(YOASOBI)%20Tracing%20That%20Dream%20(%E3%81%82%E3%81%AE%E5%A4%A2%E3%82%92%E3%81%AA%E3%81%9E%E3%81%A3%E3%81%A6)%20-%20Sungha%20Jung%20%5BQIP_ZdBhhGU%5D.mp3',
                type: 'url'
            },

            {
                name: "RACING INTO THE NIGHT(Yoasobi) - Sungha Jung",
                url: 'https://raw.githubusercontent.com/saltysweeteasy/my-music/main/(YOASOBI)%20Racing%20into%20the%20Night%20-%20Sungha%20Jung%20%5BZg5fmnrRzbg%5D.mp3',
                type: 'url'
            },

            {
                name: "CRAZIER(Taylor Swift) - Arthur Miguel",
                url: 'https://raw.githubusercontent.com/saltysweeteasy/my-music/main/Crazier%20(Taylor%20Swift)%20cover%20by%20Arthur%20Miguel%20%5BJuVrOBI--_g%5D.mp3',
                type: 'url'
            },
            {
                name: "PANGARAP LANG KITA - PAROKYA NI EDGAR",
                url: 'https://raw.githubusercontent.com/saltysweeteasy/my-music/main/www.cabinet-avocat-cadet.fr%20-%20PANGARAP%20LANG%20KITA%20-%20Parokya%20Ni%20Edgar%20feat,%20Happy%20Sy%20(lyrics)%20(320%20KBps).mp3',
                type: 'url'
            },
            {
                name: "OUR HOUSE",
                url: 'https://raw.githubusercontent.com/saltysweeteasy/my-music/main/Crosby,%20Stills,%20Nash%20&%20Young%20-%20OUR%20HOUSE%20(Joni%20Mitchell%20and%20Graham%20Nash%20fan%20video)%20%5BrrW7Mc3_wSc%5D.mp3',
                type: 'url'
            }
        
        ];
        let currentTrackIndex = 0;
        let isLooping = false;
        
        // --- FIREBASE CONFIG & INIT ---
        const firebaseConfig = {
  apiKey: "AIzaSyBA-aIzlTIT34BGEEo8_n2bbSgdl-k_A1Q",
  authDomain: "aboutme-5eb1f.firebaseapp.com",
  databaseURL: "https://aboutme-5eb1f-default-rtdb.firebaseio.com",
  projectId: "aboutme-5eb1f",
  storageBucket: "aboutme-5eb1f.firebasestorage.app",
  messagingSenderId: "464790179846",
  appId: "1:464790179846:web:9e8b509c948be5d324b387",
  measurementId: "G-0JBZS17FNS"
};

        // Initialize Firebase
        let db;
        try {
            const app = firebase.initializeApp(firebaseConfig);
            db = firebase.database();
            console.log("üî• Firebase connected successfully!");
        } catch (error) {
            console.error("‚ùå Firebase initialization error:", error);
        }

        // --- MATRIX RAIN ---
        const matrixCanvas = document.getElementById('matrixRain');
        const mCtx = matrixCanvas.getContext('2d');
        function resizeMatrix() { 
            matrixCanvas.width = window.innerWidth; 
            matrixCanvas.height = window.innerHeight; 
        }
        window.addEventListener('resize', resizeMatrix); 
        resizeMatrix();
        
        const chars = "01XYZŒ©Œ£Œ†"; 
        const drops = [];
        function initMatrix() { 
            for(let i=0; i<matrixCanvas.width/14; i++) drops[i] = 1; 
        }
        
        function drawMatrix() {
            mCtx.fillStyle = "rgba(5, 5, 5, 0.05)"; 
            mCtx.fillRect(0, 0, matrixCanvas.width, matrixCanvas.height);
            mCtx.font = "14px monospace";
            for(let i=0; i<drops.length; i++) {
                mCtx.fillStyle = (Math.random() > 0.5) ? "#00f3ff" : "#bc13fe";
                mCtx.fillText(chars.charAt(Math.floor(Math.random()*chars.length)), i*14, drops[i]*14);
                if(drops[i]*14 > matrixCanvas.height && Math.random() > 0.975) drops[i] = 0; 
                drops[i]++;
            }
        }

        // --- AUDIO SYSTEM ---
        const audio = new Audio(); 
        audio.crossOrigin = "anonymous";
        let audioCtx, analyser, source;
        let mainGradient; 

        // UI Elements - Audio
        const playPauseBtn = document.getElementById('playPauseBtn');
        const loopBtn = document.getElementById('loopBtn');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const nowPlayingTitle = document.getElementById('nowPlayingTitle');
        const seekSlider = document.getElementById('seekSlider');
        const currTime = document.getElementById('currTime');
        const totalDur = document.getElementById('totalDur');
        const playlistContainer = document.getElementById('playlistContainer');
        const playlistItemsDiv = document.getElementById('playlistItems');
        const playlistToggleBtn = document.getElementById('playlistToggleBtn');
        
        // UI Elements - Messaging
        const messageContainer = document.getElementById('messageContainer');
        const messageForm = document.getElementById('messageForm');
        const messageStatus = document.getElementById('messageStatus');
        const senderNameInput = document.getElementById('senderName');
        const messageBodyInput = document.getElementById('messageBody');
        const messageToggleBtn = document.getElementById('messageToggleBtn');

        // UI Elements - About Me (NEW)
        const aboutContainer = document.getElementById('aboutContainer');
        const moreBtn = document.getElementById('moreBtn');
        const aboutCloseBtn = document.getElementById('aboutCloseBtn');

        // Visualizer Canvases
        const visualCanvas = document.getElementById('visualizer');
        const vCtx = visualCanvas.getContext('2d');
        const profileCanvas = document.getElementById('profileVisualizer');
        const pCtx = profileCanvas.getContext('2d');

        // --- INITIALIZATION ---
        document.getElementById('start-screen').addEventListener('click', function() {
            this.style.opacity = '0'; 
            setTimeout(() => this.remove(), 800);
            
            initMatrix(); 
            setInterval(drawMatrix, 50);
            setupAudioContext();
            
            // Trigger Animations
            document.getElementById('profileSection').classList.add('visible');
            document.getElementById('musicSection').classList.add('visible');
            document.getElementById('moreBtn').classList.add('visible');
            playlistContainer.classList.add('visible');
            messageToggleBtn.classList.add('visible');
            
            // Load playlist
            renderPlaylist();
            currentTrackIndex = 0;
            loadTrack(0);
            
            // Auto-play after a delay
            setTimeout(() => {
                playAudio();
            }, 1500);
        });

        function createMainGradient() {
            mainGradient = vCtx.createLinearGradient(0, 0, visualCanvas.width, 0);
            mainGradient.addColorStop(0.0, '#00f3ff'); 
            mainGradient.addColorStop(0.2, '#bc13fe'); 
            mainGradient.addColorStop(0.4, '#ff0055'); 
            mainGradient.addColorStop(0.6, '#ff9900'); 
            mainGradient.addColorStop(0.8, '#ffff00'); 
            mainGradient.addColorStop(1.0, '#00ff99'); 
        }

        function setupAudioContext() {
            if(!audioCtx) {
                audioCtx = new (window.AudioContext || window.webkitAudioContext)();
                analyser = audioCtx.createAnalyser();
                source = audioCtx.createMediaElementSource(audio);
                source.connect(analyser);
                analyser.connect(audioCtx.destination);
                analyser.fftSize = 512; 
                analyser.smoothingTimeConstant = 0.8;
                
                resizeVisualizers();
                createMainGradient(); 
                requestAnimationFrame(drawMainVisualizer);
                requestAnimationFrame(drawProfileVisualizer);
            } else if(audioCtx.state === 'suspended') audioCtx.resume();
        }

        function resizeVisualizers() {
            visualCanvas.width = visualCanvas.offsetWidth; 
            visualCanvas.height = visualCanvas.offsetHeight;
            profileCanvas.width = profileCanvas.offsetWidth; 
            profileCanvas.height = profileCanvas.offsetHeight;
            if(audioCtx) createMainGradient(); 
        }
        window.addEventListener('resize', resizeVisualizers);

        // --- PLAYLIST LOGIC ---
        function renderPlaylist() {
            playlistItemsDiv.innerHTML = "";
            playlist.forEach((track, index) => {
                const div = document.createElement('div');
                div.className = `playlist-item ${index === currentTrackIndex ? 'active' : ''}`;
                div.textContent = `${index + 1}. ${track.name.replace('.mp3', '')}`; 
                div.onclick = () => { 
                    currentTrackIndex = index; 
                    loadTrack(index); 
                    playAudio(); 
                };
                playlistItemsDiv.appendChild(div);
            });
        }

        // Playlist toggle
        playlistToggleBtn.onclick = () => {
            playlistContainer.classList.toggle('visible');
        };

        function loadTrack(index) {
            if(index < 0 || index >= playlist.length) return;
            const track = playlist[index];
            
            audio.onerror = function(e) {
                console.error(`Playback Error on ${track.name}:`, e.target.error.code, e.target.error.message);
                nowPlayingTitle.textContent = `ERROR: Cannot load ${track.name}`;
                
                if (currentTrackIndex === index) { 
                    setTimeout(() => {
                        console.log("Skipping to next track due to error.");
                        currentTrackIndex = (currentTrackIndex + 1) % playlist.length;
                        loadTrack(currentTrackIndex); 
                        playAudio();
                    }, 4000); // <-- Increased delay for better visibility of the error
                }
            };
            
            audio.onloadstart = function() {
                nowPlayingTitle.textContent = `LOADING: ${track.name}`;
            };
            
            audio.oncanplay = function() {
                console.log(`Track loaded successfully: ${track.name}`);
                audio.onerror = null;
            };

            audio.src = track.url;
            renderPlaylist();
            audio.load();
        }

        function playAudio() {
            audio.play().then(() => {
                playPauseBtn.innerHTML = '<i class="fas fa-pause"></i>';
                nowPlayingTitle.textContent = playlist[currentTrackIndex].name;
                if(audioCtx?.state === 'suspended') audioCtx.resume();
            }).catch(e => {
                console.log("Playback error", e);
                playPauseBtn.innerHTML = '<i class="fas fa-play"></i>';
                nowPlayingTitle.textContent = `CLICK PLAY: ${playlist[currentTrackIndex].name}`;
            });
        }

        // --- CONTROLS ---
        playPauseBtn.onclick = () => {
            if(audio.paused) {
                playAudio();
            } else { 
                audio.pause(); 
                playPauseBtn.innerHTML = '<i class="fas fa-play"></i>'; 
            }
        };

        loopBtn.onclick = () => {
            isLooping = !isLooping;
            loopBtn.classList.toggle('active');
            loopBtn.innerHTML = isLooping ? '<i class="fas fa-repeat"></i> 1' : '<i class="fas fa-repeat"></i>';
        };

        nextBtn.onclick = () => {
            currentTrackIndex = (currentTrackIndex + 1) % playlist.length;
            loadTrack(currentTrackIndex); 
            playAudio();
        };

        prevBtn.onclick = () => {
            currentTrackIndex = (currentTrackIndex - 1 + playlist.length) % playlist.length;
            loadTrack(currentTrackIndex); 
            playAudio();
        };

        // Auto Next / Loop Logic
        audio.onended = () => {
            if(isLooping) {
                audio.currentTime = 0; 
                playAudio();
            } else {
                nextBtn.click();
            }
        };

        // --- NEW: MORE ABOUT ME LOGIC ---
        moreBtn.onclick = (e) => {
            e.preventDefault();
            e.stopPropagation(); // <-- FIX: Stops click from reaching the document listener
            aboutContainer.classList.add('visible');
            // Hide message UI element for focus, but keep playlist visible
            messageContainer.classList.remove('visible');
        };

        aboutCloseBtn.onclick = () => {
            aboutContainer.classList.remove('visible');
            // Restore other UI elements
            playlistContainer.classList.add('visible');
            messageToggleBtn.classList.add('visible');
        };
        
        // Close about container when clicking outside (and not on the button itself)
        document.addEventListener('click', (e) => {
            if (aboutContainer.classList.contains('visible') && 
                !aboutContainer.contains(e.target) && 
                e.target !== moreBtn) {
                aboutContainer.classList.remove('visible');
            }
        });


        // --- MESSAGE SYSTEM ---
        messageToggleBtn.onclick = (e) => {
            e.preventDefault();
            messageContainer.classList.toggle('visible');
            
            if (messageContainer.classList.contains('visible')) {
                messageStatus.textContent = '';
                messageStatus.style.color = 'var(--neon-pink)';
                senderNameInput.focus();
                // Ensure About Me is closed
                aboutContainer.classList.remove('visible');
            }
        };

        // Close message container when clicking outside
        document.addEventListener('click', (e) => {
            if (messageContainer.classList.contains('visible') && 
                !messageContainer.contains(e.target) && 
                e.target !== messageToggleBtn) {
                messageContainer.classList.remove('visible');
            }
        });

        // Message Form Submission
        messageForm.addEventListener('submit', sendMessage);

        function sendMessage(e) {
            e.preventDefault();
            
            if (!db) {
                showStatus("‚ùå DATABASE OFFLINE: Firebase not connected", 'red');
                console.error("Database not initialized");
                return;
            }

            const sender = senderNameInput.value.trim() || "ANONYMOUS_AGENT";
            const message = messageBodyInput.value.trim();
            
            if (!message) {
                showStatus("‚ö†Ô∏è PAYLOAD EMPTY: Enter a message", 'var(--neon-pink)');
                return;
            }
            
            showStatus("üì° TRANSMITTING DATA...", 'var(--neon-green)');
            
            // Create message object
            const newMessage = {
                sender: sender,
                message: message,
                timestamp: Date.now(),
                date: new Date().toISOString()
            };
            
            // Push to Firebase
            db.ref('messages').push(newMessage)
                .then(() => {
                    showStatus("‚úÖ TRANSMISSION SUCCESSFUL: Message received!", 'var(--neon-green)');
                    
                    // Clear form
                    senderNameInput.value = '';
                    messageBodyInput.value = '';
                    
                    // Auto-close after success
                    setTimeout(() => {
                        messageContainer.classList.remove('visible');
                        messageStatus.textContent = '';
                    }, 2000);
                })
                .catch((error) => {
                    console.error("Firebase error:", error);
                    showStatus(`‚ùå TRANSMISSION FAILED: ${error.message}`, 'red');
                    
                    if (error.code === 'PERMISSION_DENIED') {
                        showStatus("‚ùå PERMISSION DENIED: Check Firebase Rules", 'red');
                    }
                });
        }

        function showStatus(message, color) {
            messageStatus.textContent = message;
            messageStatus.style.color = color;
            messageStatus.style.textShadow = `0 0 10px ${color}`;
        }
        
        // --- DRAWING FUNCTIONS ---
        function drawMainVisualizer() {
            requestAnimationFrame(drawMainVisualizer);
            if (!analyser) return;

            const bufferLength = analyser.frequencyBinCount;
            const dataArray = new Uint8Array(bufferLength);
            analyser.getByteFrequencyData(dataArray);
            
            vCtx.clearRect(0, 0, visualCanvas.width, visualCanvas.height);
            vCtx.fillStyle = mainGradient; 

            const bars = 200; 
            const barW = visualCanvas.width / bars;
            const centerY = visualCanvas.height / 2;
            const maxH = visualCanvas.height / 2;

            let sum = 0;
            for(let i = 0; i < dataArray.length; i++) { sum += dataArray[i]; }
            const averageVolume = sum / dataArray.length; 
            
            const rawVolumeEffect = (averageVolume / 255) * maxH * 1.5;
            const volumeEffect = rawVolumeEffect > 30 ? rawVolumeEffect * 0.2 : rawVolumeEffect;
            const baseHeight = 5;

            for(let i=0; i<bars; i++) {
                const wave = Math.sin(i * 0.2 + Date.now()/200) * 10; 
                let h = baseHeight + volumeEffect + wave; 
                h = Math.max(5, Math.min(h, maxH - 2)); 

                vCtx.beginPath();
                vCtx.roundRect(i * barW, centerY - h, barW - 2, h, 4);
                vCtx.roundRect(i * barW, centerY, barW - 2, h, 4);
                vCtx.fill();
            }
        }

        function drawProfileVisualizer() {
            requestAnimationFrame(drawProfileVisualizer);
            if (!analyser) return;
            
            const bufferLength = analyser.frequencyBinCount;
            const dataArray = new Uint8Array(bufferLength);
            analyser.getByteFrequencyData(dataArray);

            pCtx.clearRect(0, 0, profileCanvas.width, profileCanvas.height);

            const cx = profileCanvas.width / 2;
            const cy = profileCanvas.height / 2;
            
            const radius = 55; 
            const bars = 60;
            const step = (Math.PI * 2) / bars;
            const time = Date.now() / 300;

            let sum = 0;
            for(let i = 0; i < dataArray.length; i++) { sum += dataArray[i]; }
            const averageVolume = sum / dataArray.length; 

            const baseBarLength = 10; 
            const volumeEffect = (averageVolume / 255) * 15; 

            for(let i=0; i<bars; i++) {
                const wave = Math.sin(i * 0.5 + time) * 5; 
                let barLen = baseBarLength + volumeEffect + wave; 
                barLen = Math.max(5, Math.min(barLen, 40)); 

                pCtx.strokeStyle = `hsl(${i * 5 + time * 50}, 100%, 50%)`;
                pCtx.lineWidth = 3;
                pCtx.lineCap = 'round';

                pCtx.save();
                pCtx.translate(cx, cy);
                pCtx.rotate(i * step);
                
                pCtx.beginPath();
                pCtx.moveTo(0, radius);
                pCtx.lineTo(0, radius + barLen);
                pCtx.stroke();
                
                pCtx.restore();
            }
        }

        // Seek Bar
        audio.ontimeupdate = () => {
            seekSlider.value = (audio.currentTime / audio.duration) * 100 || 0;
            currTime.textContent = fmtTime(audio.currentTime);
            totalDur.textContent = fmtTime(audio.duration || 0);
        };
        seekSlider.oninput = (e) => audio.currentTime = (e.target.value / 100) * audio.duration;
        function fmtTime(s) { 
            const minutes = Math.floor(s / 60);
            const seconds = Math.floor(s % 60);
            return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
        }

    </script>
</body>
</html>